<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Japan Export Simulator</title>
    <style>
        :root { --primary: #2563EB; --bg: #F3F4F6; --card: #FFFFFF; --text: #1F2937; }
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; background-color: var(--bg); color: var(--text); margin: 0; padding: 20px; display: flex; justify-content: center; }
        .container { max-width: 480px; width: 100%; background: var(--card); padding: 24px; border-radius: 16px; box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1); }
        h1 { font-size: 20px; text-align: center; margin-bottom: 24px; color: var(--primary); }
        .input-group { margin-bottom: 16px; }
        label { display: block; font-size: 13px; font-weight: 600; margin-bottom: 6px; color: #4B5563; }
        input { width: 100%; padding: 12px; border: 1px solid #D1D5DB; border-radius: 8px; font-size: 16px; box-sizing: border-box; }
        button { width: 100%; padding: 14px; background-color: var(--primary); color: white; border: none; border-radius: 8px; font-size: 16px; font-weight: bold; cursor: pointer; margin-top: 10px; }
        button:active { transform: scale(0.98); }
        .result-section { margin-top: 24px; padding-top: 20px; border-top: 2px dashed #E5E7EB; display: none; }
        .result-card { background: #EFF6FF; padding: 16px; border-radius: 8px; margin-bottom: 12px; }
        .result-title { font-size: 12px; color: #6B7280; font-weight: 600; }
        .result-value { font-size: 20px; font-weight: 800; color: var(--primary); margin-top: 4px; }
        .sub-text { font-size: 11px; color: #6B7280; margin-top: 2px; }
        .margin-tag { display: inline-block; padding: 4px 8px; border-radius: 4px; font-size: 11px; font-weight: bold; margin-left: 8px; }
        .tag-good { background: #D1FAE5; color: #065F46; }
        .tag-bad { background: #FEE2E2; color: #991B1B; }
    </style>
</head>
<body>
<div class="container">
    <h1>ğŸ‡¯ğŸ‡µ ìˆ˜ì¶œ ê°€ê²© ì‹œë®¬ë ˆì´í„°</h1>
    <div class="input-group"><label>ì œí’ˆ ì›ê°€ (KRW)</label><input type="number" id="costKrw" placeholder="ì˜ˆ: 15000"></div>
    <div class="input-group"><label>ì œì¡°ì‚¬ ë§ˆì§„ìœ¨ (%)</label><input type="number" id="marginRate" value="30"></div>
    <div class="input-group"><label>í™˜ìœ¨ (KRW/USD)</label><input type="number" id="exRateUsd" placeholder="ì˜ˆ: 1350"></div>
    <div class="input-group"><label>í™˜ìœ¨ (JPY/USD)</label><input type="number" id="exRateJpy" placeholder="ì˜ˆ: 150"></div>
    <div class="input-group"><label>ìš´ì†¡ë¹„ (USD / ê°œë‹¹)</label><input type="number" id="freight" value="2.5"></div>
    <div class="input-group"><label>ì¼ë³¸ ê´€ì„¸ìœ¨ (%)</label><input type="number" id="dutyRate" value="10"></div>
    <div class="input-group"><label>ì¼ë³¸ ì˜ˆìƒ íŒë§¤ê°€ (JPY)</label><input type="number" id="retailPrice" placeholder="ì˜ˆ: 3900"></div>
    <button onclick="calculate()">ì‹œë®¬ë ˆì´ì…˜ ì‹œì‘</button>
    <div id="resultArea" class="result-section">
        <h3>ğŸ“Š ë¶„ì„ ê²°ê³¼</h3>
        <div class="result-card"><div class="result-title">ì œì•ˆ FOB ê°€ê²© (USD)</div><div class="result-value" id="resFob">$0.00</div><div class="sub-text">í•œêµ­í•­ ì„ ì  ê¸°ì¤€</div></div>
        <div class="result-card"><div class="result-title">DDP ë„ì°© ì›ê°€ (JPY)</div><div class="result-value" id="resDdp">Â¥0</div><div class="sub-text">ê´€ì„¸ ë° ì†Œë¹„ì„¸(10%) í¬í•¨</div></div>
        <div class="result-card" style="background: #FFFBEB;"><div class="result-title">ë°”ì´ì–´ ì˜ˆìƒ ë§ˆì§„ (JPY)</div><div class="result-value" style="color: #B45309;" id="resBuyerMargin">Â¥0 <span id="marginTag" class="margin-tag"></span></div><div class="sub-text" id="resMarginPercent">ë§ˆì§„ìœ¨: 0%</div></div>
    </div>
</div>
<script>
    function calculate() {
        const costKrw = Number(document.getElementById('costKrw').value);
        const marginRate = Number(document.getElementById('marginRate').value) / 100;
        const exRateUsd = Number(document.getElementById('exRateUsd').value);
        const exRateJpy = Number(document.getElementById('exRateJpy').value);
        const freight = Number(document.getElementById('freight').value);
        const dutyRate = Number(document.getElementById('dutyRate').value) / 100;
        const retailPrice = Number(document.getElementById('retailPrice').value);
        if (!costKrw || !exRateUsd || !exRateJpy) { alert("ì›ê°€ì™€ í™˜ìœ¨ ì •ë³´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”."); return; }
        const exwKrw = costKrw * (1 + marginRate);
        const fobUsd = exwKrw / exRateUsd;
        const cifUsd = fobUsd + freight;
        const cifJpy = cifUsd * exRateJpy;
        const dutyJpy = cifJpy * dutyRate;
        const taxJpy = (cifJpy + dutyJpy) * 0.10;
        const ddpJpy = cifJpy + dutyJpy + taxJpy;
        const buyerProfit = retailPrice - ddpJpy;
        const buyerMarginPercent = (buyerProfit / retailPrice) * 100;
        document.getElementById('resFob').innerText = `$${fobUsd.toFixed(2)}`;
        document.getElementById('resDdp').innerText = `Â¥${Math.round(ddpJpy).toLocaleString()}`;
        document.getElementById('resBuyerMargin').innerHTML = `Â¥${Math.round(buyerProfit).toLocaleString()} <span id='dynamicTag' class='margin-tag'></span>`;
        document.getElementById('resMarginPercent').innerText = `ë§ˆì§„ìœ¨: ${buyerMarginPercent.toFixed(1)}%`;
        const tag = document.getElementById('dynamicTag');
        if (buyerMarginPercent >= 30) { tag.innerText = "Good Profit"; tag.className = "margin-tag tag-good"; } 
        else { tag.innerText = "Low Margin"; tag.className = "margin-tag tag-bad"; }
        document.getElementById('resultArea').style.display = 'block';
    }
</script>
</body>
</html>
